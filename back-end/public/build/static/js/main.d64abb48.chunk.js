(this["webpackJsonpmap-poc"]=this["webpackJsonpmap-poc"]||[]).push([[1],{22:function(e,n,t){"use strict";t.d(n,"a",(function(){return a})),t.d(n,"c",(function(){return r})),t.d(n,"b",(function(){return o})),t.d(n,"d",(function(){return c}));var a="/",r="/sign-in",o="/interactive-image",c="/upload-image"},32:function(e,n,t){"use strict";t.d(n,"a",(function(){return s})),t.d(n,"b",(function(){return d}));var a=t(31),r=t(60),o=t(0),c=t.n(o),i=t(104),l=t(66),u=t(22),m=c.a.createContext();function s(e){var n=Object(r.a)({},e).loadingUserData,t=void 0!==n&&n,s=Object(o.useState)({}),d=Object(a.a)(s,2),p=d[0],f=d[1],g=Object(i.a)(["userCookie"]),v=Object(a.a)(g,3),E=v[0],h=v[1],b=v[2];if(t)return c.a.createElement("p",null,"Loading...");return c.a.createElement(m.Provider,Object.assign({value:{data:p,signin:function(e){var n=e.email,t=e.password;fetch(l.b,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({user:{email:n,password:t}})}).then((function(e){return e.text()})).then((function(e){var n=JSON.parse(e);if(n.user){var t=n.user;f({user:t}),h("userCookie",t)}else n.error}))},signout:function(){f({}),b("userCookie"),window.location.pathname=u.c},getUser:function(){var e=E.userCookie;return(null===p||void 0===p?void 0:p.user)||e||null}}},e))}var d=function(){return c.a.useContext(m)}},66:function(e,n,t){"use strict";t.d(n,"b",(function(){return a})),t.d(n,"a",(function(){return r}));var a="/api/auth/sign-in",r="/api/images/get"},67:function(e,n,t){"use strict";t.d(n,"a",(function(){return l}));var a=t(0),r=t.n(a),o=t(100),c=t(102),i=Object(o.a)({loading:{height:"100vh",width:"100%",top:0,position:"fixed",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}});function l(){var e=i();return r.a.createElement("div",{className:e.loading},r.a.createElement(c.a,null),r.a.createElement("p",null,"Loading..."))}},88:function(e,n,t){e.exports=t(99)},93:function(e,n,t){},98:function(e,n,t){},99:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),o=t(9),c=t.n(o),i=(t(93),t(32)),l=t(30),u=t(10);function m(e){var n=[];return function e(n,t){r.a.Children.forEach(t,(function(t){r.a.isValidElement(t)&&(t.type===a.Fragment?e(n,t.props.children):n.push(t))}))}(n,e.children),r.a.createElement.apply(r.a,[u.e,null].concat(n))}var s=t(67),d=r.a.lazy((function(){return Promise.all([t.e(0),t.e(6)]).then(t.bind(null,245))}));var p=t(22),f=t(157),g=t(152),v=t(150),E=t(154),h=t(69),b=t.n(h),w=t(73),y=t(100),j=t(151),O=t(31),x=t(153),C=t(146),S=t(155),k=t(148),F=t(149),N=Object(y.a)((function(e){return{form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function D(e){var n=e.onSubmit,t=N(),o=Object(a.useState)(""),c=Object(O.a)(o,2),i=c[0],l=c[1],u=Object(a.useState)(""),m=Object(O.a)(u,2),s=m[0],d=m[1];return r.a.createElement("form",{className:t.form,noValidate:!0,onSubmit:function(e){n({e:e,email:i,password:s})}},r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",value:i,onChange:function(e){return l(e.currentTarget.value)},autoFocus:!0}),r.a.createElement(x.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",value:s,onChange:function(e){return d(e.currentTarget.value)}}),r.a.createElement(C.a,{control:r.a.createElement(S.a,{value:"remember",color:"primary"}),label:"Remember me"}),r.a.createElement(k.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:t.submit},"Sign In"),r.a.createElement(F.a,{container:!0},r.a.createElement(F.a,{item:!0,xs:!0},r.a.createElement(v.a,{href:"#",variant:"body2"},"Forgot password?")),r.a.createElement(F.a,{item:!0},r.a.createElement(v.a,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))}function P(){return r.a.createElement(w.a,{variant:"body2",color:"textSecondary",align:"center"},"Copyright \xa9 ",r.a.createElement(v.a,{color:"inherit",href:"/"},"Virtual Microscope")," ",(new Date).getFullYear(),".")}var W=Object(y.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main}}}));function T(){var e=W(),n=Object(i.b)();return r.a.createElement(j.a,{component:"main",maxWidth:"xs"},r.a.createElement(g.a,null),r.a.createElement("div",{className:e.paper},r.a.createElement(f.a,{className:e.avatar},r.a.createElement(b.a,null)),r.a.createElement(w.a,{component:"h1",variant:"h5"},"Sign in"),r.a.createElement(D,{onSubmit:function(e){var t=e.e,a=e.email,r=e.password;t.preventDefault(),n.signin({email:a,password:r})}})),r.a.createElement(E.a,{mt:8},r.a.createElement(P,null)))}var z=t(71),I=r.a.lazy((function(){return Promise.all([t.e(0),t.e(7)]).then(t.bind(null,255))})),J=r.a.lazy((function(){return Promise.all([t.e(0),t.e(5),t.e(8)]).then(t.bind(null,259))})),U=r.a.lazy((function(){return Promise.all([t.e(0),t.e(4),t.e(9)]).then(t.bind(null,257))}));function V(e){var n=e.component,t=e.user,a=Object(z.a)(e,["component","user"]);return r.a.createElement(u.c,Object.assign({},a,{render:function(e){return t?r.a.createElement(n,e):r.a.createElement(u.b,{to:{pathname:p.c,state:{from:e.location}}})}}))}function q(){var e=Object(i.b)().getUser();return r.a.createElement(l.a,null,r.a.createElement(a.Suspense,{fallback:r.a.createElement(s.a,null)},r.a.createElement(m,null,function(e){var n=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.c,{exact:!0,path:p.c,render:function(e){return n?r.a.createElement(u.b,{to:{pathname:p.a,state:{from:e.location}}}):r.a.createElement(T,null)}}))}({user:e}),function(e){var n=e.user;return r.a.createElement(r.a.Fragment,null,r.a.createElement(V,{exact:!0,user:n,path:p.a,component:I}),r.a.createElement(V,{exact:!0,path:p.b,user:n,component:J}),r.a.createElement(V,{exact:!0,path:p.d,user:n,component:U}))}({user:e}),r.a.createElement(r.a.Fragment,null,r.a.createElement(u.c,{component:d})))))}t(98);function A(){return r.a.createElement(i.a,null,r.a.createElement(q,null))}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(A,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[88,2,3]]]);
//# sourceMappingURL=main.d64abb48.chunk.js.map